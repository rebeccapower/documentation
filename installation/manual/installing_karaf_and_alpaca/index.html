
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Documentation for Islandora">
      
      
      
        <link rel="canonical" href="https://islandora.github.io/documentation/installation/manual/installing_karaf_and_alpaca/">
      
      
        
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.3.1, mkdocs-material-8.4.1+insiders-4.22.0">
    
    
      
        <title>Installing Karaf and Alpaca - Islandora</title>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/main.3ccfee04.min.css">
      
        
        <link rel="stylesheet" href="../../../assets/stylesheets/palette.cbb835fc.min.css">
        
          
          
          <meta name="theme-color" content="#4cae4f">
        
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../css/custom.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="green" data-md-color-accent="blue">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installing-karaf-and-alpaca" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="Islandora" class="md-header__button md-logo" aria-label="Islandora" data-md-component="logo">
      
  <img src="../../../assets/Islandora_logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Islandora
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Installing Karaf and Alpaca
            
          </span>
        </div>
      </div>
    </div>
    
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/Islandora/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="Islandora" class="md-nav__button md-logo" aria-label="Islandora" data-md-component="logo">
      
  <img src="../../../assets/Islandora_logo.png" alt="logo">

    </a>
    Islandora
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/Islandora/documentation" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      



  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    About
  </span>
  

      </a>
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" >
        
        
          <label class="md-nav__link" for="__nav_2">
            
  
  <span class="md-ellipsis">
    Concepts
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Concepts" data-md-level="1">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Concepts
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/node-concepts/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Nodes in Islandora
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/node-media/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Media in Islandora
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/derivatives/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Derivatives
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/rdf/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDF Repository
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
        
        
          <label class="md-nav__link" for="__nav_3">
            
  
  <span class="md-ellipsis">
    Behaviours (Models)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Behaviours (Models)" data-md-level="1">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Behaviours (Models)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Collections
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/paged-content/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Paged Content
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/audio/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Audio
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/video/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
        
        
          <label class="md-nav__link" for="__nav_4">
            
  
  <span class="md-ellipsis">
    Installation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Installation" data-md-level="1">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_1" type="checkbox" id="__nav_4_1" >
        
        
          <label class="md-nav__link" for="__nav_4_1">
            
  
  <span class="md-ellipsis">
    Release Notes
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Release Notes" data-md-level="2">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            Release Notes
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../release_notes/8.x-2.0/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    8.x-2.0 Release Notes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="https://github.com/Islandora/documentation/tree/main/docs/release_notes" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Older Release Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../install-a-demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Install a Demo
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3" type="checkbox" id="__nav_4_3" >
        
        
          <label class="md-nav__link" for="__nav_4_3">
            
  
  <span class="md-ellipsis">
    Docker (ISLE)
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Docker (ISLE)" data-md-level="2">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            Docker (ISLE)
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction to ISLE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-prereq/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Prerequisites
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_3" type="checkbox" id="__nav_4_3_3" >
        
        
          <label class="md-nav__link" for="__nav_4_3_3">
            
  
  <span class="md-ellipsis">
    Install Islandora
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Install Islandora" data-md-level="3">
          <label class="md-nav__title" for="__nav_4_3_3">
            <span class="md-nav__icon md-icon"></span>
            Install Islandora
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-demo/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing a Demo Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-local/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing a Development Server
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-custom/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing a Staging/Production Server
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_3_4" type="checkbox" id="__nav_4_3_4" >
        
        
          <label class="md-nav__link" for="__nav_4_3_4">
            
  
  <span class="md-ellipsis">
    Maintaining Islandora
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Maintaining Islandora" data-md-level="3">
          <label class="md-nav__title" for="__nav_4_3_4">
            <span class="md-nav__icon md-icon"></span>
            Maintaining Islandora
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-basic-usage/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Basic Usage
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-maintain-drupal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintaining Drupal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-maintain-isle/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Maintaining ISLE
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-available-commands/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Available Commands
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-available-configuration/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Available Configuration
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../docker-troubleshooting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Troubleshooting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../playbook/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Ansible Playbook
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" checked>
        
        
          <label class="md-nav__link" for="__nav_4_5">
            
  
  <span class="md-ellipsis">
    Manual Installation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Manual Installation" data-md-level="2">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            Manual Installation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../introduction/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../preparing_a_webserver/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Preparing a LAPP Webserver
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../installing_composer_drush_and_drupal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Composer, Drush, and Drupal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../installing_tomcat_and_cantaloupe/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Tomcat and Cantaloupe
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../installing_fedora_syn_and_blazegraph/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Fedora, Syn, and Blazegraph
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../installing_solr/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Solr
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../installing_crayfish/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Crayfish
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  <span class="md-ellipsis">
    Installing Karaf and Alpaca
  </span>
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  <span class="md-ellipsis">
    Installing Karaf and Alpaca
  </span>
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    <span class="md-ellipsis">
      In this section, we will install:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activemq-5" class="md-nav__link">
    <span class="md-ellipsis">
      ActiveMQ 5
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ActiveMQ 5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-activemq" class="md-nav__link">
    <span class="md-ellipsis">
      Installing ActiveMQ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#karaf-4" class="md-nav__link">
    <span class="md-ellipsis">
      Karaf 4
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-karaf-user" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Karaf User
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Karaf User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading and Placing Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-karaf-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Karaf Logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-setenvsh-script-for-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a setenv.sh Script for Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Initializing Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-starting-the-karaf-service" class="md-nav__link">
    <span class="md-ellipsis">
      Creating and Starting the Karaf Service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alpaca-10x" class="md-nav__link">
    <span class="md-ellipsis">
      Alpaca 1.0.x
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Alpaca 1.0.x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-the-required-karaf-repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the Required Karaf Repositories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-karaf-features" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Karaf Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blueprinting-karaf-derivative-connectors" class="md-nav__link">
    <span class="md-ellipsis">
      Blueprinting Karaf Derivative Connectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-required-karaf-features" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Required Karaf Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-karaf-components-are-running-optional-but-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying Karaf Components are Running (Optional But Recommended)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../configuring_drupal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configuring Drupal
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/install-enable-drupal-modules/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Installing Modules
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" type="checkbox" id="__nav_5" >
        
        
          <label class="md-nav__link" for="__nav_5">
            
  
  <span class="md-ellipsis">
    Walkthroughs
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Walkthroughs" data-md-level="1">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Walkthroughs
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create-a-resource-node/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a Resource Node
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/how-to-create-collection/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create a Collection
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/content_types/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modify or Create a Content Type
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/blocks/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Blocks
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../tutorials/create_update_views/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create or Update a View
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/video-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Video Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/users/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Create and Manage User Accounts
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" type="checkbox" id="__nav_6" >
        
        
          <label class="md-nav__link" for="__nav_6">
            
  
  <span class="md-ellipsis">
    Using Islandora
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Using Islandora" data-md-level="1">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Using Islandora
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/user-intro/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/intro-to-ld-for-islandora-8/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Intro to Linked Data
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/metadata/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Metadata
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/objects_to_resource_nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Modelling content in Islandora  vs. Legacy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/resource-nodes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resource Nodes
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/access-control/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Access Control
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../concepts/accessibility/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Accessibility
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/media/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Media
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/searching/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/facet_on_vocabulary_reference_fields/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Add a Facet Block on Vocabulary Reference Field
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/advanced-search/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Advanced Search
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/context/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Configure Context
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/multilingual/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Multilingual
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/extending/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Extending Islandora
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/file_viewers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Viewers
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/iiif/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    IIIF
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/oai/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    OAI-PMH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../islandora/rdf-mapping/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    RDF Generation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../islandora/drupal-bundle-configurations/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Drupal Bundle Configurations
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/flysystem/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Flysystem
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/usage-stats/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Usage Stats
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/jwt/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    JWT Authentication
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/uploading-large-files/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Large files
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../reference/islandora_defaults_reference/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Islandora Defaults
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" type="checkbox" id="__nav_7" >
        
        
          <label class="md-nav__link" for="__nav_7">
            
  
  <span class="md-ellipsis">
    Documentation for Developers
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Documentation for Developers" data-md-level="1">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Documentation for Developers
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../component_overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Stack Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/diagram/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Architecture Diagram
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_3" type="checkbox" id="__nav_7_3" >
        
        
          <label class="md-nav__link" for="__nav_7_3">
            
  
  <span class="md-ellipsis">
    REST Documentation
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="REST Documentation" data-md-level="2">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            REST Documentation
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/using-rest-endpoints/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Introduction
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-authorization/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Authorization
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-get/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    GET
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-create/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    POST/PUT
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-patch/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    PATCH
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-delete/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    DELETE
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/rest-signposting/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Signposting
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_4" type="checkbox" id="__nav_7_4" >
        
        
          <label class="md-nav__link" for="__nav_7_4">
            
  
  <span class="md-ellipsis">
    Alpaca
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Alpaca" data-md-level="2">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            Alpaca
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../alpaca/alpaca-technical-stack/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alpaca Technical Stack
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/alpaca_tips/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Alpaca Tips
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_5" type="checkbox" id="__nav_7_5" >
        
        
          <label class="md-nav__link" for="__nav_7_5">
            
  
  <span class="md-ellipsis">
    Tests
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Tests" data-md-level="2">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            Tests
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/testing-notes/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Testing Notes
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/resizing_vm/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Resizing a VM
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/updating_drupal/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating Drupal
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/ppa-documentation/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Updating a `deb` and adding it to Lyrasis PPA
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/adding_format_jsonld/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Adding back ?_format=jsonld
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_8" type="checkbox" id="__nav_8" >
        
        
          <label class="md-nav__link" for="__nav_8">
            
  
  <span class="md-ellipsis">
    Migration
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Migration" data-md-level="1">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Migration
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-overview/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migration Overview
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-rest-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    REST API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-migrate-api/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Migrate API
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migration-islandora-workbench/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Islandora Workbench
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-csv/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    CSV
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/migrate-7x/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Islandora 7
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
          <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_9" type="checkbox" id="__nav_9" >
        
        
          <label class="md-nav__link" for="__nav_9">
            
  
  <span class="md-ellipsis">
    Contributing
  </span>
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" aria-label="Contributing" data-md-level="1">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Contributing
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/CONTRIBUTING/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to contribute
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/running-automated-tests/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Running Tests
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/checking-coding-standards/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Checking Coding Standards
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/contributing-workflow/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Contributing Workflow
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/create_issues/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Creating GitHub Issues
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/versioning/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Versioning Policy
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/releasing-islandora/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to release
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/editing-docs/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Edit Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../technical-documentation/docs-build/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    How to Build Documentation
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/docs_style_guide/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Documentation Style Guide
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
    <li class="md-nav__item">
      <a href="../../../contributing/committers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Committers
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
      



  
  
  
    <li class="md-nav__item">
      <a href="../../../user-documentation/glossary/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Glossary
  </span>
  

      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#in-this-section-we-will-install" class="md-nav__link">
    <span class="md-ellipsis">
      In this section, we will install:
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#activemq-5" class="md-nav__link">
    <span class="md-ellipsis">
      ActiveMQ 5
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ActiveMQ 5">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#installing-activemq" class="md-nav__link">
    <span class="md-ellipsis">
      Installing ActiveMQ
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#karaf-4" class="md-nav__link">
    <span class="md-ellipsis">
      Karaf 4
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#creating-a-karaf-user" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a Karaf User
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Creating a Karaf User">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#downloading-and-placing-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Downloading and Placing Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-karaf-logging" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Karaf Logging
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-a-setenvsh-script-for-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Creating a setenv.sh Script for Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initializing-karaf" class="md-nav__link">
    <span class="md-ellipsis">
      Initializing Karaf
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#creating-and-starting-the-karaf-service" class="md-nav__link">
    <span class="md-ellipsis">
      Creating and Starting the Karaf Service
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#alpaca-10x" class="md-nav__link">
    <span class="md-ellipsis">
      Alpaca 1.0.x
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Alpaca 1.0.x">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#adding-the-required-karaf-repositories" class="md-nav__link">
    <span class="md-ellipsis">
      Adding the Required Karaf Repositories
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#configuring-karaf-features" class="md-nav__link">
    <span class="md-ellipsis">
      Configuring Karaf Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#blueprinting-karaf-derivative-connectors" class="md-nav__link">
    <span class="md-ellipsis">
      Blueprinting Karaf Derivative Connectors
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installing-the-required-karaf-features" class="md-nav__link">
    <span class="md-ellipsis">
      Installing the Required Karaf Features
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#verifying-karaf-components-are-running-optional-but-recommended" class="md-nav__link">
    <span class="md-ellipsis">
      Verifying Karaf Components are Running (Optional But Recommended)
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
  <a href="https://github.com/Islandora/documentation/edit/main/docs/installation/manual/installing_karaf_and_alpaca.md" title="Edit this page" class="md-content__button md-icon">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25Z"/></svg>
  </a>



<h1 id="installing-karaf-and-alpaca">Installing Karaf and Alpaca<a class="headerlink" href="#installing-karaf-and-alpaca" title="Permanent link">&para;</a></h1>
<h2 id="in-this-section-we-will-install">In this section, we will install:<a class="headerlink" href="#in-this-section-we-will-install" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="https://activemq.apache.org/">Apache ActiveMQ</a>, a messaging server that will be used to handle communication between Alpaca and other components</li>
<li><a href="https://karaf.apache.org/">Apache Karaf</a>, the Java application runtime that Alpaca will be deployed in</li>
<li><a href="https://github.com/Islandora/Alpaca">Islandora/Alpaca</a>, a suite of Java middleware applications that will handle communication between various components of Islandora.</li>
</ul>
<h2 id="activemq-5">ActiveMQ 5<a class="headerlink" href="#activemq-5" title="Permanent link">&para;</a></h2>
<h3 id="installing-activemq">Installing ActiveMQ<a class="headerlink" href="#installing-activemq" title="Permanent link">&para;</a></h3>
<p>In our case, the default installation method for ActiveMQ via <code>apt-get</code> will suffice.</p>
<pre><code class="language-bash">sudo apt-get -y install activemq
</code></pre>
<p>This will give us:</p>
<ul>
<li>A base configuration at <code>/var/lib/activemq/conf</code></li>
<li>A data storage directory at <code>/var/lib/activemq/data</code></li>
<li>The base ActiveMQ installation at <code>/usr/share/activemq</code></li>
<li>An <code>activemq</code> service that will be run on boot</li>
<li>A user, <code>activemq</code>, who will be in charge of the ActiveMQ service</li>
</ul>
<p>Take note of the version of ActiveMQ we're going to be installing. It needs to match a Karaf blueprint we'll create later. Check the version with</p>
<pre><code class="language-bash">sudo apt-cache policy activemq
</code></pre>
<p>Write down the version listed under <code>Installed:</code>.</p>
<h2 id="karaf-4">Karaf 4<a class="headerlink" href="#karaf-4" title="Permanent link">&para;</a></h2>
<h2 id="creating-a-karaf-user">Creating a Karaf User<a class="headerlink" href="#creating-a-karaf-user" title="Permanent link">&para;</a></h2>
<p>Karaf, as well as its processes and service, will be owned by a user in charge of ensuring this portion of the stack is segregated and that the service is running.</p>
<pre><code class="language-bash">sudo addgroup karaf
sudo adduser karaf --ingroup karaf --home /opt/karaf --shell /usr/bin
</code></pre>
<p>As always, you will be prompted for a password, which you should create at this time. All other options can be left blank.</p>
<h3 id="downloading-and-placing-karaf">Downloading and Placing Karaf<a class="headerlink" href="#downloading-and-placing-karaf" title="Permanent link">&para;</a></h3>
<p>Since there’s no <code>apt-get</code> installer for Karaf, we’re going to manually download and install it directly from its binary installer.</p>
<pre><code class="language-bash">cd /opt
sudo wget -O karaf.tar.gz KARAF_TARBALL_LINK
sudo tar -xzvf karaf.tar.gz
sudo chown -R karaf:karaf KARAF_DIRECTORY
sudo mv KARAF_DIRECTORY/* /opt/karaf
</code></pre>
<ul>
<li><code>KARAF_TARBALL_LINK</code>: It’s recommended to get the most recent version of Karaf 4.2.x. This will depend on the current version of Karaf, which can be found on the <a href="https://karaf.apache.org/download.html">Karaf downloads page</a> under “Karaf Runtime”. Like Solr, you can’t directly <code>wget</code> these links, but clicking on the <code>.tar.gz</code> link for the binary distribution will bring you to a list of mirrors, as well as provide you with a recommended mirror you can use here.</li>
<li><code>KARAF_DIRECTORY</code>: This will depend on the exact version being used, but will likely be <code>/opt/apache-karaf-VERSION</code>, where <code>VERSION</code> is the current Karaf version number.</li>
</ul>
<h3 id="configuring-karaf-logging">Configuring Karaf Logging<a class="headerlink" href="#configuring-karaf-logging" title="Permanent link">&para;</a></h3>
<p>We’re going to apply some basic logging to our Karaf installation that should suffice for an example. In a production installation, you may want to play around with some of these values for more personally useful logging.</p>
<pre><code class="language-bash">sudo mkdir /var/log/karaf
sudo chown karaf:karaf /var/log/karaf
</code></pre>
<p><code>/opt/karaf/etc/org.pos4j.pax.logging.cfg | karaf:karaf/644</code></p>
<pre><code># Root logger
log4j.rootLogger=INFO, out, osgi:*
log4j.throwableRenderer=org.apache.log4j.OsgiThrowableRenderer

# File appender
log4j.appender.out=org.apache.log4j.RollingFileAppender
log4j.appender.out.layout=org.apache.log4j.PatternLayout
log4j.appender.out.layout.ConversionPattern=%d{ISO8601} | %-5.5p | %-16.16t | %-32.32c{1} | %X{bundle.id} - %X{bundle.name    } - %X{bundle.version} | %m%n
log4j.appender.out.file=/var/log/karaf/karaf.log
log4j.appender.out.append=true
log4j.appender.out.maxFileSize=1MB
log4j.appender.out.maxBackupIndex=10

# Camel Logger
log4j.appender.camel=org.apache.log4j.RollingFileAppender
log4j.appender.camel.layout=org.apache.log4j.PatternLayout
log4j.appender.camel.layout.ConversionPattern=%d{ISO8601} | %-5.5p | %-16.16t | %-32.32c{1} | %X{bundle.id} - %X{bundle.na    me} - %X{bundle.version} | %m%n
log4j.appender.camel.file=/var/log/karaf/camel.log
log4j.appender.camel.append=false
log4j.appender.camel.maxFileSize=1MB
log4j.appender.camel.maxBackupIndex=10

log4j.logger.org.apache.camel=INFO, camel

# Islandora Logger
log4j.appender.islandora=org.apache.log4j.RollingFileAppender
log4j.appender.islandora.layout=org.apache.log4j.PatternLayout
log4j.appender.islandora.layout.ConversionPattern=%d{ISO8601} | %-5.5p | %-16.16t | %-32.32c{1} | %X{bundle.id} - %X{bundl    e.name} - %X{bundle.version} | %m%n
log4j.appender.islandora.file=/var/log/karaf/islandora.log
log4j.appender.islandora.append=false
log4j.appender.islandora.maxFileSize=1MB
log4j.appender.islandora.maxBackupIndex=10

log4j.logger.ca.islandora.camel=INFO, islandora
</code></pre>
<h3 id="creating-a-setenvsh-script-for-karaf">Creating a <code>setenv.sh</code> Script for Karaf<a class="headerlink" href="#creating-a-setenvsh-script-for-karaf" title="Permanent link">&para;</a></h3>
<p>Similar to Tomcat, our Karaf service is going to rely on a <code>setenv</code> shell script to determine environment variables Karaf needs in place when running. For now, this will simply be the path to <code>JAVA_HOME</code>, but this also accepts many other parameters you can find in the default <code>setenv</code> script.</p>
<p><code>/opt/karaf/bin/setenv | karaf:karaf/755</code></p>
<pre><code>#!/bin/sh
export JAVA_HOME=&quot;PATH_TO_JAVA_HOME&quot;
</code></pre>
<ul>
<li><code>PATH_TO_JAVA_HOME</code>: This will be the same <code>JAVA_HOME</code> we used when installing Tomcat , and can be found using the same method (i.e., still <code>/usr/lib/jvm/java-11-openjdk-amd64</code> if that's what it was before).</li>
</ul>
<h3 id="initializing-karaf">Initializing Karaf<a class="headerlink" href="#initializing-karaf" title="Permanent link">&para;</a></h3>
<p>We’re going to start Karaf, then run the installer to put our configurations in place and generate a Karaf service. Once these are installed, we’re going to stop Karaf, as from there on out its start/stop management should be handled via that service.</p>
<p>First we need to enable the default Karaf user in <code>/opt/karaf/etc/users.properties</code>:</p>
<p><strong>Before</strong>:</p>
<blockquote>
<p>32 | # karaf = karaf,_g_:admingroup</p>
<p>33 | # _g_\:admingroup = group,admin,manager,viewer,systembundles,ssh</p>
</blockquote>
<p><strong>After</strong>:</p>
<blockquote>
<p>32 | karaf = karaf,_g_:admingroup</p>
<p>33 | _g_\:admingroup = group,admin,manager,viewer,systembundles,ssh</p>
</blockquote>
<p>Save the file and close it, then:</p>
<pre><code class="language-bash">sudo -u karaf /opt/karaf/bin/start
# You may want to wait a bit for Karaf to start.
# If you're not sure whether or not it's running, you can always run:
# ps aux | grep karaf
# to see if the server is up and running.
/opt/karaf/bin/client feature:install wrapper
/opt/karaf/bin/client wrapper:install
/opt/karaf/bin/stop
</code></pre>
<h3 id="creating-and-starting-the-karaf-service">Creating and Starting the Karaf Service<a class="headerlink" href="#creating-and-starting-the-karaf-service" title="Permanent link">&para;</a></h3>
<p>Installing the Karaf wrapper generates several service files that can be used on different types of systems. For Debian and Ubuntu installation we want to enable the <code>karaf.service</code> service so that Karaf is properly started on boot.</p>
<pre><code class="language-bash">sudo systemctl enable /opt/karaf/bin/karaf.service
sudo systemctl start karaf
</code></pre>
<p>We can check if the service started correctly with:</p>
<pre><code class="language-bash">sudo systemctl status karaf
</code></pre>
<p>Press Q to close the status.</p>
<h2 id="alpaca-10x">Alpaca 1.0.x<a class="headerlink" href="#alpaca-10x" title="Permanent link">&para;</a></h2>
<h3 id="adding-the-required-karaf-repositories">Adding the Required Karaf Repositories<a class="headerlink" href="#adding-the-required-karaf-repositories" title="Permanent link">&para;</a></h3>
<p>Karaf features can be installed from several different types of sources, but the fastest and easiest way to do so is from existing repository URLs that we can just plug into Karaf to provide us feature lists prepared and ready for installation. Like most interactions with Karaf, we can add these repositories using its built-in <code>client</code>.</p>
<div class="admonition notice">
<p class="admonition-title">Notice</p>
<p>These repositories are updated consistently, and their updates include revised dependency lists. Commonly, when repositories are out of date or otherwise mismatched, feature installation can result in an <code>Unable to resolve root: missing requirement</code> error; for this reason, this guide recommends using recently-updated versions of these repositories. That being said, if such errors occur despite installing the latest versions of these features, the maintainer of the features repository should be informed.</p>
</div>
<p>For the Karaf features we’re going to install, we need a few different repositories to be added to the list:</p>
<pre><code class="language-bash">/opt/karaf/bin/client repo-add mvn:org.apache.activemq/activemq-karaf/ACTIVEMQ_KARAF_VERSION/xml/features
/opt/karaf/bin/client repo-add mvn:org.apache.camel.karaf/apache-camel/APACHE_CAMEL_VERSION/xml/features
/opt/karaf/bin/client repo-add mvn:ca.islandora.alpaca/islandora-karaf/ISLANDORA_KARAF_VERSION/xml/features
# XXX: This shouldn't be strictly necessary, but appears to be a missing
# upstream dependency for some fcrepo features.
/opt/karaf/bin/client repo-add mvn:org.apache.jena/jena-osgi-features/JENA_OSGI_VERSION/xml/features
</code></pre>
<ul>
<li><code>ACTIVEMQ_KARAF_VERSION</code>: The version of ActiveMQ we wrote down at the beginning of this chapter when installing ActiveMQ via <code>apt-get</code></li>
<li><code>APACHE_CAMEL_VERSION</code>: The latest version of Apache Camel 2.x.x; you can find this listed at the <a href="https://mvnrepository.com/artifact/org.apache.camel.karaf/apache-camel">apache-camel repository page</a> (e.g., 2.25.4 at the time of writing)</li>
<li><code>ISLANDORA_KARAF_VERSION</code>: The latest version of Islandora Karaf 1.x; you can find this listed at the <a href="https://mvnrepository.com/artifact/ca.islandora.alpaca/islandora-karaf">islandora-karaf repository page</a> (e.g., 1.0.5 at the time of writing)</li>
<li><code>JENA_OSGI_VERSION</code>: The latest version of the Apache Jena 3.x OSGi features; you can find this listed at the <a href="https://mvnrepository.com/artifact/org.apache.jena/jena-osgi-features">jena-osgi-features repository page</a> (e.g., 3.17.0 at the time of writing)</li>
</ul>
<h3 id="configuring-karaf-features">Configuring Karaf Features<a class="headerlink" href="#configuring-karaf-features" title="Permanent link">&para;</a></h3>
<p>Our installed Karaf features require configuration files to know exactly where to route things coming and going from them.</p>
<p><code>/opt/karaf/etc/ca.islandora.alpaca.http.client.cfg | karaf:karaf/644</code></p>
<pre><code>token.value=ISLANDORA_SYN_TOKEN
</code></pre>
<ul>
<li><code>ISLANDORA_SYN_TOKEN</code>: This should be the same token that was established during the installation of Syn in your <code>syn-settings.xml</code> file</li>
</ul>
<p><code>/opt/karaf/etc/org.fcrepo.camel.indexing.triplestore.cfg | karaf:karaf/644</code></p>
<pre><code>input.stream=activemq:topic:fedora
triplestore.reindex.stream=activemq:queue:triplestore.reindex
triplestore.baseUrl=http://localhost:8080/blazegraph/namespace/islandora/sparql
</code></pre>
<p><code>/opt/karaf/etc/ca.islandora.alpaca.indexing.triplestore.cfg | karaf:karaf/644</code></p>
<pre><code>error.maxRedeliveries=10
index.stream=activemq:queue:islandora-indexing-triplestore-index
delete.stream=activemq:queue:islandora-indexing-triplestore-delete
triplestore.baseUrl=http://localhost:8080/blazegraph/namespace/islandora/sparql
</code></pre>
<p><code>/opt/karaf/etc/ca.islandora.alpaca.indexing.fcrepo.cfg | karaf:karaf/644</code></p>
<pre><code>error.maxRedeliveries=5
node.stream=activemq:queue:islandora-indexing-fcrepo-content
node.delete.stream=activemq:queue:islandora-indexing-fcrepo-delete
media.stream=activemq:queue:islandora-indexing-fcrepo-media
file.stream=activemq:queue:islandora-indexing-fcrepo-file
file.delete.stream=activemq:queue:islandora-indexing-fcrepo-file-delete
milliner.baseUrl=http://localhost/milliner
</code></pre>
<h3 id="blueprinting-karaf-derivative-connectors">Blueprinting Karaf Derivative Connectors<a class="headerlink" href="#blueprinting-karaf-derivative-connectors" title="Permanent link">&para;</a></h3>
<p>For those services in Crayfish we have set up to provide derivatives to Islandora resources, we need connector blueprints to tell the derivative connector how to route incoming requests, run conversions, and return outgoing derivatives.</p>
<p>Our blueprints are going to look largely similar between services, with only a few properties changing between them. Largely, these mainly just need to match the ActiveMQ queues we established in the previous configuration, and route to the correct Crayfish service.</p>
<p><code>/opt/karaf/deploy/ca.islandora.alpaca.connector.ocr.blueprint.xml | karaf:karaf/644</code></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;
       xsi:schemaLocation=&quot;
       http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
       http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
       http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd&quot;&gt;

  &lt;cm:property-placeholder id=&quot;properties&quot; persistent-id=&quot;ca.islandora.alpaca.connector.ocr&quot; update-strategy=&quot;reload&quot; &gt;
    &lt;cm:default-properties&gt;
      &lt;cm:property name=&quot;error.maxRedeliveries&quot; value=&quot;5&quot;/&gt;
      &lt;cm:property name=&quot;in.stream&quot; value=&quot;activemq:queue:islandora-connector-ocr&quot;/&gt;
      &lt;cm:property name=&quot;derivative.service.url&quot; value=&quot;http://localhost/hypercube&quot;/&gt;
    &lt;/cm:default-properties&gt;
  &lt;/cm:property-placeholder&gt;

  &lt;reference id=&quot;broker&quot; interface=&quot;org.apache.camel.Component&quot; filter=&quot;(osgi.jndi.service.name=fcrepo/Broker)&quot;/&gt;

  &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;
  &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;

  &lt;camelContext id=&quot;IslandoraConnectorOCR&quot; xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;
    &lt;package&gt;ca.islandora.alpaca.connector.derivative&lt;/package&gt;
  &lt;/camelContext&gt;

&lt;/blueprint&gt;
</code></pre>
<p><code>/opt/karaf/deploy/ca.islandora.alpaca.connector.houdini.blueprint.xml | karaf:karaf/644</code></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;
       xsi:schemaLocation=&quot;
       http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
       http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
       http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd&quot;&gt;

  &lt;cm:property-placeholder id=&quot;properties&quot; persistent-id=&quot;ca.islandora.alpaca.connector.houdini&quot; update-strategy=&quot;reload&quot; &gt;
    &lt;cm:default-properties&gt;
      &lt;cm:property name=&quot;error.maxRedeliveries&quot; value=&quot;5&quot;/&gt;
      &lt;cm:property name=&quot;in.stream&quot; value=&quot;activemq:queue:islandora-connector-houdini&quot;/&gt;
      &lt;cm:property name=&quot;derivative.service.url&quot; value=&quot;http://localhost/houdini/convert&quot;/&gt;
    &lt;/cm:default-properties&gt;
  &lt;/cm:property-placeholder&gt;

  &lt;reference id=&quot;broker&quot; interface=&quot;org.apache.camel.Component&quot; filter=&quot;(osgi.jndi.service.name=fcrepo/Broker)&quot;/&gt;

  &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;
  &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;

  &lt;camelContext id=&quot;IslandoraConnectorHoudini&quot; xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;
    &lt;package&gt;ca.islandora.alpaca.connector.derivative&lt;/package&gt;
  &lt;/camelContext&gt;

&lt;/blueprint&gt;
</code></pre>
<p><code>/opt/karaf/deploy/ca.islandora.alpaca.connector.homarus.blueprint.xml | karaf:karaf/644</code></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;
       xsi:schemaLocation=&quot;
       http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
       http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
       http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd&quot;&gt;

  &lt;cm:property-placeholder id=&quot;properties&quot; persistent-id=&quot;ca.islandora.alpaca.connector.homarus&quot; update-strategy=&quot;reload&quot; &gt;
    &lt;cm:default-properties&gt;
      &lt;cm:property name=&quot;error.maxRedeliveries&quot; value=&quot;5&quot;/&gt;
      &lt;cm:property name=&quot;in.stream&quot; value=&quot;activemq:queue:islandora-connector-homarus&quot;/&gt;
      &lt;cm:property name=&quot;derivative.service.url&quot; value=&quot;http://localhost/homarus/convert&quot;/&gt;
    &lt;/cm:default-properties&gt;
  &lt;/cm:property-placeholder&gt;

  &lt;reference id=&quot;broker&quot; interface=&quot;org.apache.camel.Component&quot; filter=&quot;(osgi.jndi.service.name=fcrepo/Broker)&quot;/&gt;

  &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;
  &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;

  &lt;camelContext id=&quot;IslandoraConnectorHomarus&quot; xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;
    &lt;package&gt;ca.islandora.alpaca.connector.derivative&lt;/package&gt;
  &lt;/camelContext&gt;

&lt;/blueprint&gt;
</code></pre>
<p><code>/opt/karaf/deploy/ca.islandora.alpaca.connector.fits.blueprint.xml | karaf:karaf/644</code></p>
<pre><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;blueprint xmlns=&quot;http://www.osgi.org/xmlns/blueprint/v1.0.0&quot;
       xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;
       xmlns:cm=&quot;http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0&quot;
       xsi:schemaLocation=&quot;
       http://aries.apache.org/blueprint/xmlns/blueprint-cm/v1.1.0 http://aries.apache.org/schemas/blueprint-cm/blueprint-cm-1.1.0.xsd
       http://www.osgi.org/xmlns/blueprint/v1.0.0 http://www.osgi.org/xmlns/blueprint/v1.0.0/blueprint.xsd
       http://camel.apache.org/schema/blueprint http://camel.apache.org/schema/blueprint/camel-blueprint.xsd&quot;&gt;

  &lt;cm:property-placeholder id=&quot;properties&quot; persistent-id=&quot;ca.islandora.alpaca.connector.fits&quot; update-strategy=&quot;reload&quot; &gt;
    &lt;cm:default-properties&gt;
      &lt;cm:property name=&quot;error.maxRedeliveries&quot; value=&quot;5&quot;/&gt;
      &lt;cm:property name=&quot;in.stream&quot; value=&quot;activemq:queue:islandora-connector-fits&quot;/&gt;
      &lt;cm:property name=&quot;derivative.service.url&quot; value=&quot;http://localhost/crayfits&quot;/&gt;
    &lt;/cm:default-properties&gt;
  &lt;/cm:property-placeholder&gt;

  &lt;reference id=&quot;broker&quot; interface=&quot;org.apache.camel.Component&quot; filter=&quot;(osgi.jndi.service.name=fcrepo/Broker)&quot;/&gt;

  &lt;bean id=&quot;http&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;
  &lt;bean id=&quot;https&quot; class=&quot;org.apache.camel.component.http4.HttpComponent&quot;/&gt;

  &lt;camelContext id=&quot;IslandoraConnectorfits&quot; xmlns=&quot;http://camel.apache.org/schema/blueprint&quot;&gt;
    &lt;package&gt;ca.islandora.alpaca.connector.derivative&lt;/package&gt;
  &lt;/camelContext&gt;

&lt;/blueprint&gt;
</code></pre>
<h3 id="installing-the-required-karaf-features">Installing the Required Karaf Features<a class="headerlink" href="#installing-the-required-karaf-features" title="Permanent link">&para;</a></h3>
<p>Before we can configure the features we’re going to use, they need to be installed. Some of these installations may take some time.</p>
<pre><code class="language-bash">/opt/karaf/bin/client feature:install camel-blueprint
/opt/karaf/bin/client feature:install activemq-blueprint
/opt/karaf/bin/client feature:install fcrepo-service-activemq
# This again should not be strictly necessary, since this isn't the triplestore
# we're using, but is being included here to resolve the aforementioned
# missing link in the dependency chain.
/opt/karaf/bin/client feature:install jena
/opt/karaf/bin/client feature:install fcrepo-camel
/opt/karaf/bin/client feature:install fcrepo-indexing-triplestore
/opt/karaf/bin/client feature:install islandora-http-client
/opt/karaf/bin/client feature:install islandora-indexing-triplestore
/opt/karaf/bin/client feature:install islandora-indexing-fcrepo
/opt/karaf/bin/client feature:install islandora-connector-derivative
</code></pre>
<h3 id="verifying-karaf-components-are-running-optional-but-recommended">Verifying Karaf Components are Running (Optional But Recommended)<a class="headerlink" href="#verifying-karaf-components-are-running-optional-but-recommended" title="Permanent link">&para;</a></h3>
<p>At this point, Karaf components should be up and running, but it's a good idea to double-check that this is the case. We can do this from within the Karaf client by taking a look at its component list.</p>
<pre><code class="language-bash"># Until this point, we've been running Karaf commands from outside; we can hop
# into the client, however, and run commands from directly within.
/opt/karaf/bin/client
# This takes us into the Karaf client so we can run commands.
la | grep islandora
la | grep fcrepo
# It may be a good idea to use this to look up to the other components we
# installed.
logout
</code></pre>
<p>For the above <code>la | grep</code> commands, components that are running should be listed as <code>Active</code>.</p>

  
    
  
  


  <aside class="md-source-file">
    
      <span class="md-source-file__fact">
        <span class="md-icon" title="Date of last update">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M21 13.1c-.1 0-.3.1-.4.2l-1 1 2.1 2.1 1-1c.2-.2.2-.6 0-.8l-1.3-1.3c-.1-.1-.2-.2-.4-.2m-1.9 1.8-6.1 6V23h2.1l6.1-6.1-2.1-2M12.5 7v5.2l4 2.4-1 1L11 13V7h1.5M11 21.9c-5.1-.5-9-4.8-9-9.9C2 6.5 6.5 2 12 2c5.3 0 9.6 4.1 10 9.3-.3-.1-.6-.2-1-.2s-.7.1-1 .2C19.6 7.2 16.2 4 12 4c-4.4 0-8 3.6-8 8 0 4.1 3.1 7.5 7.1 7.9l-.1.2v1.8Z"/></svg>
        </span>
        <span class="git-revision-date-localized-plugin git-revision-date-localized-plugin-date">June 21, 2022</span>
      </span>
    
    
    
    
  </aside>




              
            </article>
            
<script>var input,hash=location.hash.slice(1);hash.startsWith("__tabbed_")&&((input=document.getElementById(hash)).checked=!0)</script>
          </div>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
    
    <nav class="md-footer__inner md-grid" aria-label="Footer" >
      
        
        <a href="../installing_crayfish/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Installing Crayfish" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Installing Crayfish
            </div>
          </div>
        </a>
      
      
        
        <a href="../configuring_drupal/" class="md-footer__link md-footer__link--next" aria-label="Next: Configuring Drupal" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Configuring Drupal
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4Z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      <b>This documentation is user-sourced!</b> Suggestions and comments are welcome in our <u><a href="https://github.com/Islandora/documentation/issues" target="_blank">issue queue</a></u>.
    </div>
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs Insiders
    </a>
  
</div>
      
        <div class="md-social">
  
    
    
      
      
    
    <a href="https://twitter.com/islandora" target="_blank" rel="noopener" title="twitter.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 6.1.2 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2022 Fonticons, Inc.--><path d="M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../..", "features": [], "search": "../../../assets/javascripts/workers/search.720157f5.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.config.lang": "en", "search.config.pipeline": "stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version.title": "Select version"}}</script>
    
    
      <script src="../../../assets/javascripts/bundle.3615f3ac.min.js"></script>
      
    
  </body>
</html>